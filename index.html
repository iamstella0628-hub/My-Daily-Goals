<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>æ¯æ—¥å°ç›®æ¨™æ¸…å–®</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f9fafb;
      padding: 1.5rem;
      max-width: 600px;
      margin: auto;
    }
    h1 {
      font-size: 1.5rem;
      color: #111827;
    }
    .quote {
      margin-top: 1rem;
      font-size: 1rem;
      padding: 1rem;
      background-color: #e0f2fe;
      border-left: 4px solid #0284c7;
      border-radius: 0.5rem;
      color: #0c4a6e;
    }
    label {
      display: block;
      margin-top: 1rem;
      font-weight: bold;
      color: #374151;
    }
    input[type="text"], textarea, input[type="date"] {
      width: 100%;
      padding: 0.5rem;
      margin-top: 0.25rem;
      border: 1px solid #d1d5db;
      border-radius: 0.375rem;
      font-size: 1rem;
    }
    .checkbox-group {
      margin-top: 1rem;
    }
    .checkbox-item {
      display: flex;
      align-items: center;
      margin-bottom: 0.5rem;
    }
    .checkbox-item input {
      margin-right: 0.5rem;
    }
    .footer {
      margin-top: 2rem;
      font-size: 0.875rem;
      color: #6b7280;
      text-align: center;
    }
    .button {
      margin-top: 1rem;
      padding: 0.5rem 1rem;
      background-color: #0284c7;
      color: white;
      border: none;
      border-radius: 0.375rem;
      font-size: 1rem;
      cursor: pointer;
    }
    .record-section {
      margin-top: 1rem;
      display: none;
      padding: 1rem;
      background-color: #f3f4f6;
      border-radius: 0.5rem;
    }
    .record-box {
      margin-top: 0.5rem;
      font-size: 0.95rem;
    }
    .alert {
      margin-top: 0.5rem;
      padding: 0.5rem;
      background-color: #d1fae5;
      color: #065f46;
      border: 1px solid #10b981;
      border-radius: 0.375rem;
      display: none;
    }
  </style>
</head>
<body>
  <h1>ğŸŒ± æ¯æ—¥å°ç›®æ¨™æ¸…å–®</h1>

  <div class="quote" id="dailyQuote">
    ğŸ’¬ ä»Šæ—¥é¼“å‹µèªï¼š<br />
    ğŸŒŸã€Œä½ å€¼å¾—ï¼Œä¸€åˆ‡ç¾å¥½ã€‚ã€
  </div>

  <label for="date">ğŸ“… é¸æ“‡æ—¥æœŸï¼š</label>
  <input type="date" id="date" />

  <label for="emotion">ğŸ§  ä»Šæ—¥æˆ‘æœ‰å’©æ„Ÿè¦ºï¼Ÿ</label>
  <textarea id="emotion" rows="2" placeholder="ä¾‹å¦‚ï¼šæœ‰å•²æ”°ï¼Œä½†èµ·èº«å’—ï¼Œç®—ä¿‚ä¸€å€‹é–‹å§‹ :)"></textarea>

  <label for="goal1">âœ… å°ç›®æ¨™ 1ï¼š</label>
  <input type="text" id="goal1" placeholder="ä¾‹å¦‚ï¼šé£²ä¸€æ¯æš–æ°´" />

  <label for="goal2">âœ… å°ç›®æ¨™ 2ï¼ˆå¯é¸ï¼‰ï¼š</label>
  <input type="text" id="goal2" placeholder="ä¾‹å¦‚ï¼šå¯«ä½ä¸€å¥æˆ‘å°è‡ªå·±è¬›å˜…èªªè©±" />

  <div class="checkbox-group">
    <label>ğŸ“Œ å®Œæˆå’—æœªï¼Ÿ</label>
    <div class="checkbox-item">
      <input type="checkbox" id="check1" />
      <label for="check1">å®Œæˆç›®æ¨™ 1</label>
    </div>
    <div class="checkbox-item">
      <input type="checkbox" id="check2" />
      <label for="check2">å®Œæˆç›®æ¨™ 2</label>
    </div>
  </div>

  <label for="reward">ğŸ å°çå‹µä¿¾è‡ªå·±ï¼š</label>
  <input type="text" id="reward" placeholder="ä¾‹å¦‚ï¼šç‡ä¸€é›†åŠ‡ / é£Ÿä¸€å•–æœ±å¤åŠ›" />

  <label for="note">ğŸ“ ä»Šæ—¥è¨˜éŒ„ï¼š</label>
  <textarea id="note" rows="3" placeholder="å¯ä»¥å¯«ä¸‹ç¸½çµã€æ„Ÿå—ã€æˆ–è€…å°è‡ªå·±è¬›å˜…èªªè©± :)"></textarea>

  <button class="button" onclick="saveData(dateInput.value, true)">ğŸ’¾ å„²å­˜è¨˜éŒ„</button>
  <div class="alert" id="saveAlert">âœ… å·²å„²å­˜ï¼</div>

  <button class="button" onclick="toggleRecords()">ğŸ” æŸ¥çœ‹éå¾€ç´€éŒ„</button>

  <div class="record-section" id="recordSection">
    <label for="viewDate">ğŸ“… é¸æ“‡ä¸€æ—¥ï¼š</label>
    <input type="date" id="viewDate" />
    <div class="record-box" id="recordBox">
      è«‹é¸æ“‡ä¸€æ—¥åšŸç‡è¿”è¨˜éŒ„ã€‚
    </div>
  </div>

  <div class="footer">
    ğŸ’› åšå””æ™’å†‡å•é¡Œï¼Œä½ å·²ç¶“å¥½å»ï¼Œè‚¯é–‹å§‹å°±ä¿‚é€²æ­¥ã€‚
  </div>

  <script>
    const dateInput = document.getElementById('date');
    const fields = ['emotion', 'goal1', 'goal2', 'check1', 'check2', 'reward', 'note'];
    const today = new Date().toISOString().split('T')[0];
    dateInput.value = today;

    function getStorageKey(date) {
      return `dailyGoals-${date}`;
    }

    function loadData(date) {
      const data = localStorage.getItem(getStorageKey(date));
      if (data) {
        const parsed = JSON.parse(data);
        fields.forEach(field => {
          const el = document.getElementById(field);
          if (el.type === 'checkbox') {
            el.checked = parsed[field] || false;
          } else {
            el.value = parsed[field] || '';
          }
        });
      } else {
        fields.forEach(field => {
          const el = document.getElementById(field);
          if (el.type === 'checkbox') {
            el.checked = false;
          } else {
            el.value = '';
          }
        });
      }
    }

    function saveData(date, showAlert = false) {
      const data = {};
      fields.forEach(field => {
        const el = document.getElementById(field);
        data[field] = el.type === 'checkbox' ? el.checked : el.value;
      });
      localStorage.setItem(getStorageKey(date), JSON.stringify(data));
      if (showAlert) {
        const alertBox = document.getElementById('saveAlert');
        alertBox.style.display = 'block';
        setTimeout(() => {
          alertBox.style.display = 'none';
        }, 2000);
      }
    }

    dateInput.addEventListener('change', () => {
      loadData(dateInput.value);
      setRandomQuote();
    });

    fields.forEach(field => {
      const el = document.getElementById(field);
      el.addEventListener('input', () => saveData(dateInput.value));
      el.addEventListener('change', () => saveData(dateInput.value));
    });

    function setRandomQuote() {
      const quotes = [
        "ä½ å””éœ€è¦å®Œç¾ï¼Œå·²ç¶“å€¼å¾—è¢«æ„›ã€‚",
        "è‚¯é–‹å£ï¼Œå·²ç¶“ä¿‚å‹‡æ•¢ã€‚",
        "ç´¯å’—ï¼Œå¯ä»¥ä¼‘æ¯ï¼Œå””ä»£è¡¨ä½ æ”¾æ£„ã€‚",
        "ä»Šæ—¥ä½ åšåˆ°å¹¾å¤šï¼Œå°±å·²ç¶“å¤ å¥½ã€‚",
        "å‰è¡Œå””ä¸€å®šè¦å¿«ï¼Œä½†è¦è¨˜å¾—è‡ªå·±è¡Œç·Šã€‚",
        "æ¯ä¸€å€‹ç´°ç´°æ­¥ï¼Œéƒ½å€¼å¾—è¢«è‚¯å®šã€‚",
        "å””é–‹å¿ƒå””ç·Šè¦ï¼Œæ…¢æ…¢åšŸã€‚",
        "ä½ å””å­¤å–®ï¼Œæˆ‘å“‹éƒ½å–ºåº¦ã€‚",
        "ä½ å¤ æº«æŸ”ï¼Œäº¦å¤ å …å¼·ã€‚",
        "ä½ å€¼å¾—ï¼Œä¸€åˆ‡ç¾å¥½ã€‚"
      ];
      const quoteBox = document.getElementById('dailyQuote');
      const randomIndex = new Date().getDate() % quotes.length;
      quoteBox.innerHTML = `ğŸ’¬ ä»Šæ—¥é¼“å‹µèªï¼š<br />ğŸŒŸã€Œ${quotes[randomIndex]}ã€`;
    }

    function toggleRecords() {
      const section = document.getElementById('recordSection');
      section.style.display = section.style.display === 'none' ? 'block' : 'none';
    }

    const viewDate = document.getElementById('viewDate');
    const recordBox = document.getElementById('recordBox');

    viewDate.addEventListener('change', () => {
      const data = localStorage.getItem(getStorageKey(viewDate.value));
      if (data) {
        const d = JSON.parse(data);
        recordBox.innerHTML = `
          ğŸ§  æ„Ÿè¦ºï¼š${d.emotion || 'ï¼ˆå†‡å¯«ï¼‰'}<br />
          âœ… ç›®æ¨™1ï¼š${d.goal1 || 'ï¼ˆå†‡å¯«ï¼‰'} ${d.check1 ? 'âœ”ï¸' : 'âŒ'}<br />
          âœ… ç›®æ¨™2ï¼š${d.goal2 || 'ï¼ˆå†‡å¯«ï¼‰'} ${d.check2 ? 'âœ”ï¸' : 'âŒ'}<br />
          ğŸ çå‹µï¼š${d.reward || 'ï¼ˆå†‡å¯«ï¼‰'}<br />
          ğŸ“ è¨˜éŒ„å…§å®¹ï¼š${d.note || 'ï¼ˆå†‡å¯«ï¼‰'}
        `;
      } else {
        recordBox.innerHTML = 'å†‡ç´€éŒ„å–ºå‘¢æ—¥ã€‚';
      }
    });

    loadData(dateInput.value);
    setRandomQuote();
  </script>
</body>
</html>